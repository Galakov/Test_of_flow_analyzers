═══════════════════════════════════════════════════════════════════
  ИСТОРИЯ ИЗМЕНЕНИЙ
  Программа для сравнения анализаторов SO2 и H2S
═══════════════════════════════════════════════════════════════════

ВЕРСИЯ 1.2 (Текущая)
════════════════════

✅ ДОБАВЛЕНО: Процентная разница от эталона
   - Автоматический расчет отклонения от эталона Ametek
   - Отображение процентной разницы под каждым значением
   - Цветовая индикация:
     * Серый - разница < 5%
     * Красный - разница > 5%
   
   Формат отображения:
   ┌─────────────────────────────────────────────────────┐
   │ 📅 Дата: 16.10.2025 17:10:00                        │
   │                                                      │
   │ SO2                                                  │
   │   Ametek: 0.6349                                    │
   │   ЭкоСпектр: 0.0000                                 │
   │     Δ от эталона: -100.00%                          │
   └─────────────────────────────────────────────────────┘

✅ ДОБАВЛЕНО: Синхронизация графиков
   - Графики H2S и SO2 синхронно двигаются по временной шкале
   - При масштабировании одного графика, второй масштабируется также
   - При перемещении по оси времени, оба графика перемещаются вместе
   - Перекрестие синхронизировано - показывает одно время на обоих графиках
   
   Удобно для сравнения параметров в один момент времени!

✅ УЛУЧШЕНО: Информационная панель
   - Увеличена высота панели для отображения данных с двух графиков
   - Дата отображается один раз вверху
   - Четкое разделение между данными H2S и SO2
   - Улучшенное форматирование с использованием иконок


ВЕРСИЯ 1.1
══════════

✅ ИСПРАВЛЕНО: Фильтрация колонки TagName
   - Колонка "TagName" теперь исключается из отображения на графиках
   - Программа автоматически игнорирует следующие колонки:
     * TagName, tag_name
     * Тег, Название
     * Любые колонки с этими ключевыми словами
   
   Теперь на графиках отображаются только числовые параметры!

✅ УЛУЧШЕНО: Отображение даты и времени
   - На оси X графика теперь отображается читаемая дата и время
   - Формат даты: ДД.ММ.ГГГГ ЧЧ:ММ:СС
   - Автоматическое форматирование временной шкалы
   - Улучшенная читаемость меток времени
   
   Пример: 13.10.2024 14:30:00

✅ УЛУЧШЕНО: Информационная панель
   - Обновленное форматирование даты в панели значений
   - Цветное выделение значений для лучшей читаемости
   - Более четкое отображение параметров


ТЕХНИЧЕСКИЕ ДЕТАЛИ
══════════════════

Изменения в коде (версия 1.2):

1. Метод on_mouse_moved():
   - Добавлен расчет процентной разницы от эталона Ametek
   - Автоматический поиск колонки Ametek
   - Цветовая индикация по уровню расхождения
   - Синхронизация перекрестия между графиками
   - Отображение данных со всех графиков одновременно

2. Метод plot_data():
   - Добавлена синхронизация осей X между графиками (setXLink)
   - Связь всех графиков с первым графиком
   - Автоматическая синхронизация масштабирования и панорамирования

3. Метод init_ui():
   - Увеличена высота информационной панели (120-180px)
   - Добавлен перенос текста (setWordWrap)
   - Улучшенное отображение больших объемов информации

Изменения в коде (версия 1.1):

1. Метод identify_columns():
   - Добавлен список exclude_keywords для фильтрации колонок
   - Улучшена проверка числовых данных
   - Более надежная фильтрация нечисловых колонок

2. Метод plot_data():
   - Добавлен DateAxisItem для оси X
   - Автоматическое форматирование временной шкалы
   - Метка оси изменена на "Дата и время"

3. Метод on_mouse_moved():
   - Обновлен формат отображения даты (ДД.ММ.ГГГГ)
   - Добавлено цветное форматирование HTML
   - Улучшена обработка пропущенных значений


ЧТО ИЗМЕНИЛОСЬ ДЛЯ ПОЛЬЗОВАТЕЛЯ
═══════════════════════════════

ВЕРСИЯ 1.2:

ДО:
❌ Не было видно процентной разницы от эталона
❌ Графики двигались независимо друг от друга
❌ Неудобно сравнивать параметры в одно время

ПОСЛЕ:
✅ Автоматический расчет разницы от Ametek в процентах
✅ Графики синхронно масштабируются и перемещаются
✅ Перекрестие показывает одно время на всех графиках
✅ Цветовая индикация отклонений (красный > 5%)
✅ Удобное сравнение H2S и SO2 одновременно

ВЕРСИЯ 1.1:

ДО:
❌ TagName отображался как линия на графике
❌ Временная ось показывала только числа
❌ Неудобное отображение времени в панели

ПОСЛЕ:
✅ TagName автоматически исключается
✅ На оси X четкая дата и время
✅ Удобный формат даты в информационной панели


КАК ИСПОЛЬЗОВАТЬ
════════════════

Просто запустите программу как обычно:

1. python analyzer_comparison.py
2. Загрузите ваши файлы Excel (H2S и SO2)
3. Нажмите "Построить графики"
4. Наведите курсор на любой график

Программа теперь автоматически:
• Исключит колонку TagName
• Отобразит красивую временную шкалу
• Покажет дату и время при наведении курсора
• Рассчитает процентную разницу от Ametek
• Синхронизирует графики при масштабировании
• Покажет данные с обоих графиков одновременно

НОВЫЕ ВОЗМОЖНОСТИ:
• Масштабируйте один график - второй масштабируется автоматически
• Перемещайтесь по времени - оба графика двигаются синхронно
• Наведите курсор - увидите значения H2S и SO2 в один момент времени
• Процентная разница выделяется красным, если превышает 5%


СОВМЕСТИМОСТЬ
═════════════

✅ Все существующие функции работают как прежде
✅ Обратная совместимость с предыдущей версией
✅ Не требуется изменений в формате входных файлов
✅ Автоматическое распознавание колонки Ametek


═══════════════════════════════════════════════════════════════════

ВЕРСИЯ 1.0 (Исходная)
═════════════════════

✅ Загрузка Excel файлов
✅ Построение графиков
✅ Интерактивное перекрестие
✅ Отображение значений
✅ Масштабирование и панорамирование

═══════════════════════════════════════════════════════════════════

